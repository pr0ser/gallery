{% extends "base.html" %}
{% load staticfiles %}

{% block title %}{{ album.title }}{% endblock %}

{% block content %}
  {% if album.subalbums.all %}
    <div class="ui container subalbums">
      <h1 class="ui header centered">Albumit</h1>
      <div class="ui centered cards">
        {% for album in album.subalbums.all %}
          <a class="ui card" href="{% url 'gallery:album' album.directory %}">
            <div class="image">
              {% if album.album_cover.thumbnail_img.url %}
                <img src="{{ album.album_cover.thumbnail_img.url }}"
                     srcset="{{ album.album_cover.hidpi_thumbnail_img.url }} 2x" alt="{{ album.title }}">
              {% else %}
                <img src="{% static 'gallery/images/no_image.png' %}">
              {% endif %}
            </div>
            <div class="content">
              <div class="header">{{ album.title }}</div>
              <div class="description">
                {{ album.description }}
              </div>
            </div>
            <div class="extra content">
            <span class="right floated">
              {{ album.date|date:'j.n.Y' }}
            </span>
            <span>
              <i class="image icon"></i>
              {{ album.photos.count }}
            </span>
            </div>
          </a>
        {% endfor %}
      </div>
    </div>
    <div class="ui divider"></div>
  {% endif %}

  {% if album.photos.all %}
    <div class="ui center aligned images container ">
      {% for photo in album.photos.all %}
        <a href="#" class="ui image">
          <img class="ui rounded image" src="{{ photo.thumbnail_img.url }}"
               srcset="{{ photo.hidpi_thumbnail_img.url }} 2x" alt="{{ photo.title }}">
        </a>
      {% endfor %}
    </div>
  {% else %}
    <div class="ui center aligned container">
      <h2>Ei kuvia</h2>
    </div>
  {% endif %}
{% endblock %}