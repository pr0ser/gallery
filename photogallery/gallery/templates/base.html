{% load staticfiles %}
<!doctype html>
<html lang="fi">

<head>
  <meta charset="UTF-8">
  <title>{% block title %}Galleria{% endblock %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="{% static 'gallery/semantic/semantic.min.css' %}">
  <link rel="stylesheet" href="{% static 'gallery/css/gallery.css' %}">
  <link rel="icon" href="{% static 'gallery/images/g.png' %}" sizes="192x192">
  <meta name="theme-color" content="#000000"/>
  {% block header %}{% endblock %}
</head>

<body>

{% if user.is_authenticated %}
  <div class="ui right sidebar inverted vertical menu">
    <div class="item header">
      Lisää
      <i class="add square icon"></i>
    </div>
    {% if album.id %}
      {% load l10n %}
      <a class="item" href="{% url 'gallery:photo-new' %}?album_id={{ album.id|unlocalize }}">Uusi kuva</a>
      <a class="item" href="{% url 'gallery:photo-massupload' %}?album_id={{ album.id|unlocalize }}">Useampi kuva</a>
    {% else %}
      <a class="item" href="{% url 'gallery:photo-new' %}">Uusi kuva</a>
      <a class="item" href="{% url 'gallery:photo-massupload' %}">Useampi kuva</a>
    {% endif %}
    <a class="item" href="{% url 'gallery:album-new' %}">Uusi albumi</a>
    {% block navbar %} {% endblock %}
    <div class="item header">
      Käyttäjä
      <i class="user icon"></i>
    </div>
    <a class="item" href="{% url 'gallery:logout' %}">Kirjaudu ulos</a>
  </div>
{% endif %}

<div class="pusher">
  <div class="ui inverted borderless menu" id="main-menu">
    <a class="item" href="{% url 'gallery:index' %}"><h1>Galleria</h1></a>
    <div class="right menu">
      {% if user.is_authenticated %}
        <div class="ui top right dropdown link item">
          <i class="sidebar icon"></i>
        </div>
      {% else %}
        <a class="item" href="{% url 'gallery:login' %}">
        <span data-tooltip="Kirjaudu sisään" data-position="bottom right">
          <i class="sign in icon"></i>
        </span>
        </a>
      {% endif %}
    </div>
  </div>

  {% for message in messages %}
    <div class="ui container">
      <div class="ui center aligned stackable grid ">
        <div class="six wide column">
          <div class="ui center aligned compact {{ message.tags }} message">
            <div class="content">
              {{ message }}
            </div>
          </div>
        </div>
      </div>
    </div>
  {% endfor %}

  {% block content %} {% endblock %}
</div>

<script src="{% static 'gallery/js/jquery-3.2.1.min.js' %}"></script>
<script src="{% static 'gallery/semantic/semantic.min.js' %}"></script>
{% if user.is_authenticated %}
  <script>
      $('.ui.right.sidebar.inverted.vertical.menu')
          .sidebar('setting', 'transition', 'overlay')
          .sidebar('setting', 'dimPage', false)
          .sidebar('attach events', '.ui.top.right.dropdown.link.item')
      ;
  </script>
{% endif %}
{% block modals %}{% endblock %}
{% block scripts %}{% endblock %}

</body>
</html>
